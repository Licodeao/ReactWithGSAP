import React, { useRef, forwardRef, useImperativeHandle } from "react";
import type { ForwardRefRenderFunction } from "react";
import { gsap } from "gsap";
import styled from "styled-components";

type propType = {};

type handleType = {
  moveTo: (x: number, y: number) => void;
};

const StyledParallaxWrapper = styled.div`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  will-change: transform;
`;

const Background: ForwardRefRenderFunction<handleType, propType> = (
  props,
  forwardedRef
) => {
  const el = useRef(null);

  useImperativeHandle(
    forwardedRef,
    () => ({
      moveTo(x: number, y: number) {
        gsap.to(el.current, {
          x,
          y,
        });
      },
    }),
    []
  );

  return (
    <StyledParallaxWrapper ref={el}>
      <svg
        version="1.0"
        xmlns="http://www.w3.org/2000/svg"
        width="340.000000pt"
        height="280.000000pt"
        viewBox="0 0 640.000000 1280.000000"
        preserveAspectRatio="xMidYMid meet"
      >
        <metadata>
          Created by potrace 1.15, written by Peter Selinger 2001-2017
        </metadata>
        <g
          transform="translate(0.000000,1280.000000) scale(0.100000,-0.100000)"
          fill="#000000"
          stroke="none"
        >
          <path
            d="M2534 12776 l-28 -23 21 -74 c12 -41 27 -114 33 -164 25 -202 80
-420 130 -512 15 -29 26 -54 23 -57 -8 -8 -123 24 -166 45 -63 32 -147 125
-187 204 -31 63 -35 80 -40 178 -5 108 -12 126 -47 127 -21 0 -73 -51 -73 -73
0 -11 12 -38 26 -58 14 -20 38 -70 53 -111 55 -148 156 -261 297 -334 42 -21
78 -42 81 -46 7 -13 -45 -28 -95 -28 -135 0 -322 100 -322 172 0 32 -29 58
-63 58 -19 0 -31 -8 -42 -31 -24 -46 -16 -71 25 -82 19 -5 67 -33 105 -63 117
-89 218 -112 402 -93 63 6 116 9 118 7 3 -3 -2 -56 -11 -119 -29 -200 -12
-515 46 -859 28 -170 37 -344 20 -365 -17 -20 -123 -75 -145 -75 -8 0 -40 20
-69 44 -30 24 -80 53 -111 65 -32 12 -78 36 -104 53 -72 50 -225 209 -345 358
-104 131 -356 496 -356 517 0 6 15 14 33 17 58 11 153 63 195 106 49 51 119
186 131 252 4 26 16 59 25 72 34 53 7 106 -55 106 -53 0 -73 -53 -43 -112 35
-67 -12 -183 -116 -290 -49 -50 -76 -69 -109 -78 -59 -15 -69 -2 -32 43 105
133 145 456 77 631 -15 40 -26 88 -26 116 0 40 -4 52 -26 69 -60 47 -131 6
-104 -59 7 -17 26 -40 43 -52 71 -51 111 -229 89 -406 -10 -81 -19 -111 -54
-182 -24 -47 -49 -85 -57 -85 -8 0 -23 26 -36 65 -28 84 -58 141 -147 286 -40
66 -93 159 -118 208 -35 70 -51 92 -72 99 -39 12 -82 -10 -86 -45 -3 -22 4
-32 36 -52 21 -13 57 -46 79 -73 105 -125 269 -420 280 -502 l6 -44 -39 5
c-63 9 -133 47 -202 112 -115 108 -202 241 -202 309 0 18 -5 38 -12 45 -28 28
-108 -1 -108 -40 0 -10 19 -40 43 -66 24 -26 85 -98 136 -159 87 -106 153
-170 229 -222 17 -12 32 -29 32 -38 0 -14 -16 -15 -125 -11 -119 5 -129 7
-198 41 -124 61 -257 200 -257 269 0 32 -31 68 -59 68 -25 0 -83 -48 -79 -65
2 -7 62 -69 134 -137 183 -172 242 -201 477 -232 60 -8 111 -16 113 -19 2 -2
-40 -23 -93 -47 -72 -32 -115 -44 -163 -48 -63 -4 -67 -3 -129 39 -94 63 -166
56 -159 -15 4 -39 34 -50 179 -66 171 -19 246 1 405 105 73 49 100 62 106 52
4 -7 57 -85 118 -173 199 -284 372 -494 596 -725 177 -182 208 -247 146 -309
-22 -22 -43 -30 -102 -39 -41 -7 -112 -23 -156 -38 l-82 -26 -73 18 c-155 38
-557 185 -704 258 -77 38 -195 108 -195 115 0 3 27 40 60 83 34 43 66 93 73
111 8 21 12 95 12 203 0 186 -6 210 -58 249 -26 19 -30 19 -55 5 -15 -8 -31
-27 -37 -43 -8 -25 -6 -31 21 -55 17 -14 45 -34 62 -43 31 -16 32 -19 32 -82
0 -140 -47 -289 -107 -335 -23 -19 -28 -20 -35 -6 -5 8 -13 91 -17 184 -9 192
-13 202 -106 327 -109 146 -224 254 -270 254 -27 0 -48 -37 -43 -76 3 -27 7
-29 55 -35 68 -9 112 -37 172 -113 80 -100 136 -223 155 -336 7 -47 -6 -142
-21 -147 -7 -3 -31 13 -55 35 -52 47 -113 88 -193 130 -33 18 -91 57 -129 87
-72 57 -96 63 -123 27 -15 -18 -17 -61 -5 -80 5 -7 37 -17 73 -23 127 -21 326
-139 385 -229 38 -58 29 -70 -54 -70 -201 0 -601 183 -648 296 -18 43 -34 50
-73 30 -35 -19 -54 -48 -49 -79 2 -17 15 -25 65 -38 38 -10 90 -35 133 -63
139 -93 311 -156 487 -178 64 -8 97 -16 100 -25 8 -19 -58 -85 -116 -116 -69
-37 -143 -50 -267 -45 -127 5 -168 20 -190 73 -21 52 -62 56 -111 12 -50 -44
-12 -87 94 -108 40 -8 139 -13 238 -14 185 0 212 5 296 57 71 45 79 30 18 -37
-74 -81 -158 -140 -218 -155 -52 -12 -66 -9 -128 31 -21 13 -26 11 -60 -23
l-37 -38 29 -30 c16 -16 36 -32 44 -35 24 -7 235 68 281 100 62 43 171 164
210 233 59 105 47 100 126 53 231 -141 667 -304 1027 -385 87 -19 165 -40 173
-47 25 -20 17 -82 -17 -128 -87 -121 -230 -222 -387 -274 -271 -90 -562 -150
-838 -171 l-71 -6 -28 98 c-65 232 -154 323 -410 417 -55 20 -109 46 -121 56
-26 24 -76 24 -97 1 -28 -30 -31 -74 -9 -102 18 -22 22 -23 59 -12 69 21 127
15 224 -23 115 -44 168 -81 211 -147 63 -95 94 -168 71 -168 -5 0 -36 20 -71
44 -130 91 -255 122 -446 113 -172 -9 -286 -43 -286 -85 0 -62 69 -72 133 -21
72 58 187 73 329 44 119 -25 298 -121 298 -160 0 -16 -32 -25 -95 -25 -27 0
-77 -6 -110 -14 -33 -7 -116 -25 -185 -40 -69 -15 -135 -32 -147 -37 -31 -12
-31 -62 -1 -83 33 -23 63 -19 100 13 18 15 47 35 64 44 100 51 332 84 378 53
23 -14 24 -19 14 -42 -29 -63 -286 -212 -436 -253 -40 -11 -119 -25 -175 -31
-130 -14 -142 -17 -161 -36 -20 -20 -20 -38 0 -58 23 -24 70 -19 156 14 42 16
126 43 185 60 135 39 285 110 386 184 43 31 81 56 84 56 3 0 3 -32 1 -71 -7
-90 -65 -210 -144 -297 -62 -69 -105 -90 -213 -102 -81 -9 -101 -23 -101 -70
0 -58 68 -79 111 -34 13 14 61 48 106 75 154 93 251 217 292 374 14 52 28 84
35 82 44 -14 46 -255 3 -352 -20 -42 -32 -55 -70 -73 -51 -24 -67 -46 -67 -91
0 -36 13 -46 59 -42 53 3 69 17 86 76 9 30 24 69 33 87 14 26 18 67 20 198 3
160 0 182 -33 286 -6 18 -1 24 27 33 18 6 83 15 143 20 173 16 286 43 690 166
304 94 388 115 444 115 54 0 63 -5 84 -45 8 -16 38 -56 66 -88 28 -32 51 -59
51 -60 0 -1 -20 -60 -44 -130 -53 -151 -82 -196 -253 -382 -152 -165 -452
-435 -570 -512 -30 -20 -37 -14 -83 72 -40 75 -88 125 -150 159 -56 30 -279
106 -313 106 -33 0 -57 -30 -57 -71 0 -63 41 -76 110 -37 36 21 42 22 96 10
145 -30 260 -124 293 -240 l9 -30 -72 34 c-94 45 -187 64 -318 64 -130 0 -183
-10 -315 -61 -56 -21 -113 -39 -127 -39 -44 0 -61 -59 -28 -100 26 -32 50 -23
151 49 109 79 172 103 287 109 109 5 178 -8 264 -51 85 -42 87 -63 10 -92 -81
-30 -103 -44 -264 -165 -161 -121 -235 -170 -259 -170 -48 0 -41 -106 8 -128
35 -16 51 -7 76 44 39 81 302 299 453 374 43 22 85 40 92 40 27 0 17 -98 -16
-168 -46 -98 -239 -283 -320 -307 -47 -14 -70 -34 -70 -63 0 -33 16 -52 43
-52 31 0 108 63 209 169 87 92 122 138 199 264 16 26 33 47 38 47 16 0 31 -69
31 -140 0 -115 -45 -256 -116 -367 -37 -59 -77 -88 -142 -105 -97 -25 -98
-138 0 -138 28 0 37 5 47 28 7 15 41 65 76 112 144 195 176 278 183 483 l5
138 38 -53 c78 -110 91 -233 37 -369 l-31 -80 26 -27 c57 -57 89 13 89 193 0
152 -20 222 -94 324 -29 40 -62 88 -73 106 -19 33 -19 34 0 56 11 12 90 83
175 158 207 181 365 341 543 546 144 166 236 255 262 255 8 0 21 -33 34 -86
12 -47 35 -115 51 -151 28 -62 30 -74 30 -191 0 -294 -67 -957 -99 -977 -5 -2
-46 9 -92 25 -137 48 -251 38 -407 -35 -106 -50 -142 -80 -142 -120 0 -19 8
-39 20 -50 30 -27 66 -7 90 50 34 79 142 129 280 129 78 0 129 -16 160 -49 26
-28 23 -31 -53 -38 -27 -3 -80 -20 -120 -40 -130 -65 -242 -177 -329 -332 -28
-49 -64 -105 -79 -123 -16 -18 -29 -39 -29 -47 0 -25 51 -75 76 -75 33 0 51
34 57 111 6 90 58 187 154 289 61 65 89 86 166 124 84 42 147 58 147 38 0 -4
-16 -61 -36 -127 -19 -66 -51 -194 -70 -285 -23 -111 -45 -186 -66 -228 -31
-62 -31 -63 -15 -98 28 -57 90 -64 102 -11 3 12 9 92 15 177 14 220 43 357
100 470 71 140 114 113 141 -88 12 -93 6 -291 -11 -353 -5 -19 -23 -48 -40
-64 -16 -16 -30 -33 -30 -39 0 -17 53 -66 72 -66 24 0 34 27 48 141 12 96 9
434 -5 497 -10 44 8 42 74 -5 l51 -38 0 -1445 c-1 -1336 -9 -2960 -26 -5272
l-7 -928 151 0 152 0 0 3483 c1 3167 5 3857 25 3910 4 9 15 17 25 17 30 0 61
49 58 88 -3 36 -14 47 -60 57 -19 4 -30 14 -35 33 -11 36 -10 1586 0 1635 5
21 14 37 22 37 18 0 35 -31 35 -63 0 -14 21 -64 46 -112 25 -48 76 -166 113
-263 113 -293 229 -530 355 -726 31 -48 59 -101 62 -116 6 -25 3 -28 -30 -34
-53 -10 -213 -93 -258 -134 -24 -22 -57 -70 -83 -122 -24 -48 -55 -101 -69
-117 -52 -62 -18 -166 44 -133 30 16 42 46 51 129 10 89 45 167 95 210 39 34
153 95 162 87 3 -3 -16 -52 -43 -108 -72 -156 -75 -170 -75 -376 0 -203 9
-246 54 -258 39 -9 59 -1 69 29 7 22 2 41 -33 111 -39 79 -42 88 -41 172 0
101 10 165 41 247 22 59 71 132 102 151 28 17 38 -3 48 -100 14 -121 34 -205
80 -337 21 -62 58 -168 82 -237 24 -69 47 -128 53 -132 32 -24 105 9 105 47 0
8 -24 42 -54 74 -79 86 -143 231 -192 436 -23 95 -25 259 -3 280 23 23 43 10
95 -58 86 -115 154 -282 154 -379 0 -83 33 -101 89 -49 l31 29 -92 178 c-98
191 -133 250 -181 302 l-31 32 47 0 c97 0 262 -75 343 -155 63 -62 121 -179
138 -273 14 -84 19 -92 60 -92 82 0 66 61 -67 267 -36 54 -84 116 -109 139
-57 52 -159 112 -275 160 -51 21 -93 42 -93 45 0 4 26 14 58 23 189 53 455
-45 526 -193 42 -89 111 -95 111 -10 l0 44 -115 79 c-182 124 -172 121 -395
121 -203 0 -223 -4 -287 -57 l-28 -22 -26 24 c-87 83 -340 563 -413 787 -45
138 -63 268 -59 427 4 190 7 192 183 104 50 -25 104 -49 121 -52 18 -4 87 -41
155 -83 230 -140 566 -296 794 -368 66 -20 124 -41 128 -45 5 -4 -7 -32 -26
-61 -78 -118 -107 -298 -73 -447 9 -39 16 -91 16 -116 0 -25 6 -51 14 -59 21
-20 74 -9 93 19 20 31 11 65 -31 112 -57 64 -70 98 -70 187 0 57 7 97 22 139
20 55 69 122 81 111 2 -3 3 -31 2 -63 -3 -76 25 -206 57 -265 46 -85 271 -317
307 -317 17 0 55 44 55 64 0 26 -47 64 -90 71 -104 18 -215 149 -255 302 -17
63 -20 189 -6 197 10 6 41 -17 130 -97 74 -67 172 -131 321 -212 69 -37 140
-79 158 -94 63 -49 80 -55 108 -37 18 12 24 25 24 51 0 43 -29 65 -85 65 -55
0 -120 23 -219 78 -260 143 -460 353 -360 378 77 19 292 -73 408 -175 38 -34
77 -61 87 -61 37 0 59 43 43 85 -15 38 -293 152 -501 205 -53 13 -54 30 -5 57
101 56 251 85 367 72 139 -15 218 -51 277 -127 32 -40 108 -21 108 27 0 36
-63 71 -215 121 -90 30 -112 33 -215 33 -131 0 -201 -12 -302 -54 -39 -16 -73
-27 -76 -24 -14 14 123 165 190 209 75 49 235 60 344 24 45 -15 71 -19 81 -12
25 15 57 79 50 97 -9 24 -112 23 -260 -3 -279 -47 -408 -140 -472 -340 -25
-80 -32 -85 -97 -70 -203 49 -586 211 -787 334 -149 90 -206 139 -263 224 -28
42 -67 91 -86 109 l-35 32 16 43 c28 71 56 108 93 124 41 17 94 21 464 34 412
15 495 32 794 162 88 37 163 65 166 61 4 -4 18 -39 30 -78 55 -171 142 -272
303 -350 116 -56 167 -65 196 -36 26 26 27 55 1 81 -24 24 -59 26 -86 5 -47
-36 -143 3 -234 94 -55 54 -110 130 -110 151 0 5 25 -6 56 -26 136 -87 265
-120 439 -111 60 3 128 11 150 19 36 12 40 17 43 48 1 19 -2 41 -7 49 -12 18
-73 19 -79 1 -18 -52 -91 -74 -227 -68 -128 6 -179 28 -295 129 l-85 74 115 7
c174 10 360 52 500 114 42 18 98 38 126 44 27 6 61 15 76 21 48 19 49 76 2 97
-42 20 -61 14 -114 -33 -101 -90 -340 -183 -495 -192 -79 -5 -231 9 -244 23
-9 9 65 77 132 121 102 67 200 105 277 107 76 3 107 17 116 52 8 32 -10 74
-33 75 -33 2 -46 -3 -82 -31 -20 -16 -94 -55 -166 -87 -71 -33 -161 -78 -199
-101 -37 -23 -69 -42 -71 -42 -4 0 26 174 39 227 18 66 63 129 166 227 97 92
134 116 181 116 64 0 96 67 42 88 -47 18 -135 24 -188 12 -98 -23 -141 -23
-210 0 -90 30 -232 140 -209 163 3 2 37 -4 77 -14 80 -22 212 -26 294 -10 75
15 193 56 266 92 148 75 172 107 121 160 -15 16 -33 29 -40 29 -18 0 -64 -63
-64 -87 0 -41 -94 -98 -221 -133 -122 -34 -352 -25 -417 16 -12 8 -20 19 -18
23 3 5 40 20 82 35 116 42 278 134 356 203 21 18 50 35 65 39 63 14 63 13 63
58 0 45 -30 86 -62 86 -18 0 -48 -31 -48 -50 0 -7 -11 -33 -25 -56 -50 -85
-328 -242 -436 -246 -68 -2 -72 29 -16 111 105 154 350 369 449 394 75 19 88
84 22 112 -39 16 -79 5 -89 -24 -7 -22 -96 -114 -250 -257 -72 -67 -146 -145
-165 -172 -40 -59 -59 -70 -77 -46 -30 41 -29 231 2 349 21 81 87 213 124 249
17 17 46 32 68 35 34 6 38 10 41 38 6 57 -55 92 -109 63 -10 -6 -19 -18 -19
-28 0 -9 -16 -44 -35 -77 -66 -113 -108 -200 -122 -250 -23 -81 -29 -327 -9
-403 19 -76 19 -72 3 -72 -22 0 -95 69 -122 114 -40 68 -65 153 -65 221 0 58
3 65 36 99 44 46 41 74 -16 129 -22 21 -43 51 -46 65 -10 48 -13 52 -40 52
-26 0 -70 -39 -123 -109 -43 -58 -91 -75 -226 -79 -122 -3 -167 6 -135 28 8 5
53 22 100 36 164 50 207 83 298 224 30 47 68 102 85 124 52 65 31 136 -39 136
-37 0 -39 -3 -48 -98 -19 -195 -238 -374 -440 -360 l-46 3 71 85 c92 110 124
176 194 395 31 99 68 199 81 222 19 33 22 47 15 66 -13 33 -48 57 -83 57 l-28
0 0 -90 c0 -50 -7 -126 -16 -168 -21 -107 -77 -264 -115 -328 -40 -65 -141
-184 -175 -204 -37 -22 -46 -1 -40 90 9 154 56 316 107 375 33 37 37 73 11
105 -20 25 -63 30 -88 9 -13 -11 -15 -25 -9 -75 5 -53 2 -76 -23 -156 -16 -51
-40 -137 -52 -190 -32 -145 -48 -149 -128 -30 -95 142 -127 241 -127 392 0 94
2 109 23 134 43 56 19 126 -45 126 -40 0 -49 -59 -35 -229 21 -275 65 -387
208 -528 87 -86 91 -91 61 -87 -195 25 -218 34 -282 109 -58 67 -75 108 -68
166 5 41 2 48 -22 67 -56 44 -116 16 -100 -46 12 -48 173 -251 229 -287 55
-37 146 -65 209 -65 93 0 96 -27 27 -233 -100 -300 -325 -733 -403 -776 -16
-9 -54 -34 -85 -56 -83 -60 -103 -65 -247 -68 l-129 -2 -53 84 c-67 106 -89
167 -113 307 -43 252 -54 813 -18 896 18 41 19 41 148 63 193 31 302 115 412
316 31 57 68 120 83 139 28 37 27 64 -1 108 -16 25 -55 29 -73 8 -6 -7 -20
-60 -31 -116 -31 -164 -79 -246 -187 -321 -53 -37 -188 -91 -216 -87 -19 3
-13 13 51 81 133 141 192 330 192 619 0 86 -1 88 -26 94 -33 9 -74 -10 -74
-35 0 -10 11 -49 25 -85 31 -82 32 -155 5 -261 -28 -108 -81 -213 -141 -279
-54 -59 -86 -77 -100 -55 -4 8 -5 62 -2 121 4 65 1 155 -7 227 -10 90 -10 127
-1 152 9 26 8 37 -4 55 -24 37 -53 40 -86 8 -35 -34 -36 -40 -4 -86 36 -53 57
-156 59 -283 1 -113 -14 -194 -41 -216 -29 -24 -104 74 -143 186 -35 101 -50
203 -64 421 -7 116 -16 216 -20 223 -11 17 -32 13 -62 -13z m2120 -1118 c3
-18 13 -94 21 -168 19 -166 26 -194 66 -253 31 -47 133 -147 150 -147 23 0 4
-30 -53 -86 -229 -221 -634 -496 -839 -569 -24 -9 -82 -23 -129 -30 -62 -10
-107 -25 -163 -55 -90 -47 -84 -48 -177 37 l-53 49 103 189 c196 359 333 662
403 892 18 62 36 116 40 119 3 3 36 -6 74 -22 127 -51 329 -44 428 16 45 27
109 60 116 60 4 0 9 -15 13 -32z m389 -702 c106 -143 189 -193 339 -207 49 -5
93 -11 98 -14 14 -9 -12 -55 -84 -149 -35 -45 -75 -107 -89 -137 -32 -65 -57
-173 -57 -251 0 -31 -5 -69 -10 -84 l-11 -27 -23 22 c-13 13 -37 50 -52 84
-27 57 -29 71 -29 179 0 113 1 119 26 143 14 14 40 33 59 43 18 9 38 24 43 33
12 20 3 60 -22 90 -29 37 -65 14 -102 -64 -81 -175 -75 -372 16 -514 30 -47
41 -71 34 -79 -18 -22 -294 -126 -454 -172 -124 -36 -215 -47 -390 -47 l-170
0 -61 33 c-33 18 -104 46 -158 62 -54 15 -106 36 -117 46 -11 10 -34 63 -51
118 l-31 100 42 37 c61 55 200 147 336 224 245 140 484 308 710 503 72 62 133
112 137 112 4 0 36 -38 71 -84z m-2017 -1693 c5 -10 10 -339 12 -732 l3 -714
-72 6 c-121 10 -125 25 -89 290 31 233 40 341 55 710 14 327 23 415 47 445 15
17 34 15 44 -5z m-21 -1487 c36 -15 48 -46 18 -46 -17 0 -63 37 -63 52 0 11 5
10 45 -6z"
          />
        </g>
      </svg>
    </StyledParallaxWrapper>
  );
};

export default forwardRef(Background);
